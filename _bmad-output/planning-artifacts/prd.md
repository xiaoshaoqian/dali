---
stepsCompleted: [1, 2, 3, 4, 6, 7, 8, 9, 10, 11]
inputDocuments:
  - product-brief-dali-2025-12-27.md
  - research/market-ai-fashion-styling-china-research-2025-12-27.md
workflowType: 'prd'
lastStep: 11
briefCount: 1
researchCount: 1
brainstormingCount: 0
projectDocsCount: 0
project_name: 搭理app
user_name: Xiaoshaoqian
date: 2025-12-27
completed: true
completedDate: 2025-12-28
---

# Product Requirements Document - 搭理app

**Author:** Xiaoshaoqian
**Date:** 2025-12-27

## Executive Summary

搭理app 是一款面向中国市场的 AI 驱动个性化穿搭顾问移动应用，专注解决 18-38 岁女性用户"买了衣服不知道怎么搭配"的核心痛点。

### Product Vision

用户通过拍摄单件衣服照片，结合个人风格偏好、身材和肤色等信息，即可获得 AI 生成的多套可视化搭配方案。每个方案不仅提供完整的搭配效果图，更重要的是配有详细的专业理论解析（配色原理、风格分析、搭配依据），帮助用户真正理解"为什么这样搭"。所有搭配方案自动保存，形成个人穿搭知识库，支持用户逐步建立自己的穿搭体系和自信。

### Problem & Impact

目标用户面临"衣橱困境"：
- **高闲置率**：购买的衣服因不知如何搭配导致 40-50% 闲置率
- **决策焦虑**：在小红书/抖音海量内容中寻找适合自己的方案，效率低下，45% 用户在"方案评估阶段"因搭配不确定性放弃购买
- **缺乏自信**：无专业搭配知识支撑，无法建立个人穿搭体系
- **个性化缺失**：博主推荐泛化，无法针对个人身材、肤色、场合定制

### Target Users

**核心用户群：** 18-38 岁对服装感兴趣但缺乏专业搭配知识的中国女性

**人口分布（基于市场研究）：**
- 18-25 岁（Z 世代）：35%
- 26-32 岁（年轻白领）：45%
- 33-38 岁（成熟职场女性）：20%

**典型画像 - 小雅（30 岁自由职业者）：**
- 对服装充满热情，每晚浏览购物网站
- 购买决策谨慎，试穿后会征求意见但常因意见不统一而纠结
- 核心痛点：购买前不确定能否搭配现有衣物；购买后不确定搭配是否合适
- 成功愿景：获得专业个性化建议，逐步建立穿搭自信，从"不会搭配"到"能指导别人"

**关键使用场景：**
- 购买决策时：辅助判断是否购买
- 新衣到手后：获取多套搭配建议
- 日常出门前：快速查询历史方案或生成新方案
- 特殊场合准备：约会、聚会等场合的风格指导

### User Success Moment ("Aha Moment")

**定义：** 用户按照 AI 推荐搭配后，主动将搭配方案或实际穿搭照片分享到社交媒体（微信朋友圈、小红书、抖音）或转发给朋友。

**验证指标：**
- 首次分享/转发时间 < 7 天（从注册到首次分享）
- 分享/转发用户占比 > 30%（活跃用户中）
- 分享内容包含 app 推荐的截图或提及 app 名称

**为什么这是啊哈时刻：** 分享行为证明用户不仅满意搭配效果，更建立了穿搭自信，愿意向社交圈展示 —— 这是从"不会搭配"到"有信心展示"的关键转变。这个指标既验证 PMF，又驱动自然增长。

### What Makes This Special

**1. 单品导向 + 零门槛首次体验**
- **首次使用**：无需注册，直接拍摄一件衣服即可体验核心功能
- **渐进式个性化**：首次体验后，引导用户填写 3-5 个基础问题（身材类型、喜欢的风格、常见场合）
- **持续优化**：通过使用行为（点赞、保存的方案）自动学习用户偏好，减少主动输入负担
- **区别于竞品**：搭搭等工具要求用户先录入完整衣橱（50+ 件单品），我们 0 录入即可开始

**2. 知识赋能 vs. 商品推销**
- 核心价值：传递专业搭配理论，帮用户建立穿搭体系
- AI 生成效果图 + 详细理论解析（配色原理、风格分析、搭配依据）
- 区别于小红书/蘑菇街以带货为目的的内容推荐

**3. AI 个性化决策助手**
- 基于用户身材、肤色、风格偏好提供精准建议
- "像懂时尚的闺蜜 AI"，而非"冷冰冰的算法"
- 填补市场空白：现有平台要么偏"社交分享"，要么偏"电商卖货"，缺少真正的"AI 穿搭决策支持"

**4. 知识沉淀系统**
- 每次搭配方案自动保存，形成个人穿搭知识库
- 用户可随时回顾学习，理解不同场合、风格的搭配逻辑
- 长期价值：从依赖 app 到内化知识，拥有系统的穿搭思维

**5. 真实需求驱动**
- 源于真实用户的切身痛点，而非市场跟风
- 市场研究验证：82% 的 18-35 岁女性愿意尝试 AI 辅助穿搭工具
- AI 技术成熟度已支撑产品实现，时机恰当

### Visual Presentation Strategy

**MVP 阶段呈现方式：**
- **核心展示**：推荐单品的高清商品图组合 + 精美搭配排版设计
- **理论可视化**：配色轮盘、风格标签卡片、场合适配图标等辅助说明
- **明确定位**：提供"搭配灵感和专业指导"，而非"虚拟试穿效果"
- **避开市场陷阱**：不做 AI 虚拟试衣/上身效果（市场研究验证为伪需求，用户粘性极低）

**未来演进方向：**
- 基于用户数据沉淀，展示"与你相似身材的用户实拍效果"（UGC，真实可信）
- 根据用户反馈数据，评估是否引入轻量级 AR 试穿功能

## Project Classification

**Technical Type:** Mobile App
**Domain:** General (Fashion Tech)
**Complexity:** Medium
**Project Context:** Greenfield - 全新项目

**技术特征：**
- iOS/Android 双平台移动应用
- AI 图像生成和识别技术
- 个性化推荐算法
- 设备功能集成（相机、照片库）
- 应用商店合规要求
- 用户数据管理和隐私保护

**领域特征：**
- 消费级时尚科技应用
- 无高度监管行业要求（非医疗、金融、政府等）
- 关注标准安全实践、用户体验和性能优化
- 中国市场本地化需求

**复杂度考量：**
- AI 技术集成（图像识别、生成式 AI、推荐算法）
- 个性化系统持续优化
- 用户隐私和数据安全
- 但相比高度监管领域复杂度适中

**技术方向（基于 MVP 快速验证目标）：**

**移动端技术栈：**
- **推荐方案**：React Native (Expo)
- **理由**：跨平台开发，一套代码覆盖 iOS/Android，降低 MVP 成本 60%+，丰富的 AI 集成库
- **适用性**：18-38 岁用户对原生性能要求不极致，更看重功能价值

**后端技术栈：**
- **推荐方案**：Python FastAPI
- **理由**：AI/ML 生态成熟，向量库集成顺畅，适合 AI 服务层

**AI 能力架构（分阶段演进）：**

**MVP 阶段 - 第三方 API：**
- **图像识别**：阿里云视觉智能 / 腾讯云图像分析（国内稳定，成本可控）
- **搭配推荐**：基于规则引擎 + GPT-4 API / 通义千问生成搭配理论解析
- **时尚知识**：结构化 JSON 数据库（专家标注 500 组搭配案例）

**增长阶段 - 向量库自研：**
- **向量数据库**：Pinecone（托管服务，MVP）→ Milvus（自部署，规模化降本）
- **知识来源**：
  - 用户搭配历史 + 反馈数据
  - 小红书/抖音公开时尚内容（合规爬取）
  - 品牌合作提供的搭配数据
- **嵌入模型**：OpenAI Embeddings / 通义千问 Embeddings → 向量化存储
- **检索增强**：用户上传单品 → 向量相似度检索 → 推荐历史高评分搭配

**数据存储：**
- **用户数据/搭配历史**：PostgreSQL（关系型，支持复杂查询）
- **向量库**：Pinecone（MVP）→ Milvus（规模化）
- **图片存储**：阿里云 OSS / 腾讯云 COS

**MVP 时间线：** 6 个月内可交付可用 MVP

## Success Criteria

### User Success

**核心成功指标："啊哈时刻" - 分享/转发行为**

用户成功的根本标志是**主动分享或转发搭配方案**到社交媒体（微信朋友圈、小红书、抖音）或给朋友。这一行为证明用户：
1. 对 AI 搭配结果真正满意
2. 建立了穿搭自信，愿意向社交圈展示
3. 从"不会搭配"到"有信心展示"的关键转变

**具体验证指标：**
- **首次分享时间**：< 7 天（从首次使用到首次分享）
- **分享用户占比**：> 30%（活跃用户中）
- **分享质量**：包含 app 推荐截图或提及 app 名称

**三大成功行为表现：**
1. **持续上传更多单品**：用户主动拓展自己的穿搭方案库，证明对产品价值认可
2. **积极反馈（点赞/保存/评论）**：用户与方案互动，帮助 AI 学习个人偏好
3. **推荐给朋友**：口碑传播，验证产品达到 PMF

**知识内化周期：6 个月或更久**

用户从"依赖 AI 推荐"到"内化穿搭知识，建立自己的体系"需要长期使用和学习。成功标志：
- 用户能够理解并复用学到的搭配原理
- 减少对 app 的依赖频率，但保留作为"灵感库"使用
- 从"不会搭配"成长为"能指导别人"

### Business Success

**免费优先策略，关注留存和活跃度，暂不设付费转化率目标**

**3 个月目标（MVP 验证阶段）：**
- **用户规模**：5,000 - 10,000 注册用户
- **留存率**：
  - 次日留存 > 40%
  - 7 日留存 > 25%
  - 30 日留存 > 15%
- **活跃度**：
  - DAU/MAU > 20%（用户粘性）
  - 单用户日均使用时长 > 8 分钟
- **分享/转发率**：> 30%（验证啊哈时刻）
- **自然增长**：> 40% 新用户来自推荐/分享

**12 个月目标（增长阶段）：**
- **收入目标**：100 万 RMB 年度收入
  - 订阅制收入（15-30 RMB/月，可选）
  - 品牌合作收入（搭配数据授权、广告）
- **用户规模**：50,000 - 100,000 MAU
- **付费转化**：暂不作为核心 KPI，关注用户自愿订阅行为
- **品牌认知**：成为"AI 穿搭助手"类目第一联想

**商业模式定位：**
- **核心功能免费**：单品搭配推荐、基础理论解析、历史方案查看
- **可选订阅增值**（15-30 RMB/月）：
  - 高级搭配理论课程
  - 更多 AI 生成方案数量
  - 个性化风格深度分析
  - 优先体验新功能
- **增长驱动**：免费用户口碑传播 + 订阅用户自愿付费，无强制转化压力

### Technical Success

**性能要求：**
- **搭配生成响应**：
  - **文本策略生成**：< 5 秒（即时反馈，缓解焦虑）
  - **视觉效果图生成**：< 15-30 秒（异步加载，高质量渲染）
- **图片上传/加载**：< 2 秒（移动网络环境）
- **应用启动时间**：< 3 秒（冷启动）
- **崩溃率**：< 0.1%（iOS/Android）

**可靠性要求：**
- **服务可用性**：> 99.5%（核心功能）
- **API 响应时间**：文本接口 P95 < 2 秒

**AI 质量要求：**
- **搭配推荐准确率**：> 75%（用户点赞/保存方案占比）
- **图像识别准确率**：> 90%（正确识别服装类型、颜色、风格）
- **理论解析质量**：> 80% 用户认为"有帮助"（应用内反馈）

**安全与隐私：**
- **数据加密**：传输加密（HTTPS/TLS）+ 存储加密（用户照片、个人信息）
- **隐私合规**：符合《个人信息保护法》，明确隐私政策和用户授权
- **照片安全**：用户照片仅用于 AI 分析，不做商业用途，支持用户删除

**跨平台一致性：**
- iOS 和 Android 核心功能体验一致
- 支持 iOS 14+ 和 Android 8.0+ 系统版本
- 适配主流屏幕尺寸（手机为主，平板次要）

### Measurable Outcomes

**MVP 验证成功标准（6 个月内）：**
1. **PMF 验证**：30% 活跃用户主动分享/转发搭配方案
2. **留存验证**：30 日留存率 > 15%
3. **增长验证**：40% 新用户来自推荐/分享（自然增长）
4. **质量验证**：AI 搭配推荐准确率 > 75%（用户点赞/保存占比）
5. **商业验证**：订阅制模式可行性验证（即使不强制，仍有用户自愿付费）

**失败快速止损标准：**
- 如果 3 个月内分享率 < 10%，说明产品未达成啊哈时刻，需重新审视核心价值
- 如果 30 日留存 < 5%，说明用户未建立使用习惯，需优化产品体验

## Product Scope

### MVP - Minimum Viable Product（6 个月交付）

**核心功能（必须实现）：**

1. **单品拍摄/上传**
   - 拍摄衣服照片（相机集成）
   - 从相册上传照片
   - 图片裁剪和基础编辑

2. **AI 图像识别**
   - 识别服装类型（上衣、裤子、裙子、外套等）
   - 提取颜色、图案、风格信息
   - 基于阿里云/腾讯云视觉 API

3. **渐进式个性化信息收集**
   - **首次体验**：零门槛，直接上传单品即可获得搭配
   - **引导填写**：首次结果后，引导填写 3-5 个基础问题（身材类型、喜欢的风格、常见场合）
   - **隐式学习**：通过点赞/保存行为学习用户偏好

4. **AI 搭配推荐生成**
   - 每个单品生成 3-5 套搭配方案
   - 展示推荐单品的商品图组合 + 精美排版
   - 基于规则引擎 + GPT-4/通义千问 API
   - 使用专家标注的 500 组搭配案例库

5. **专业理论解析**
   - 配色原理可视化（色轮、配色卡片）
   - 风格分析标签（通勤、休闲、约会等）
   - 搭配依据文字说明（为什么这样搭）
   - 场合适配建议

6. **搭配方案管理**
   - 自动保存所有生成的搭配方案
   - 按时间/场合/风格分类浏览
   - 点赞/收藏/评论功能
   - 快速查询历史方案

7. **分享功能**
   - 生成精美分享图片（包含 app 水印）
   - 一键分享到微信/朋友圈/小红书/抖音
   - 分享行为数据追踪（验证啊哈时刻）

**技术实现范围：**
- React Native (Expo) 跨平台开发
- Python FastAPI 后端 API
- PostgreSQL 用户数据存储
- 阿里云 OSS / 腾讯云 COS 图片存储
- 阿里云/腾讯云视觉 API 图像识别
- GPT-4 / 通义千问 API 生成搭配理论
- 基础用户认证和隐私保护

**明确不做（MVP 阶段）：**
- ❌ AI 虚拟试衣/上身效果（伪需求，避坑）
- ❌ 完整衣橱管理系统（降低使用门槛）
- ❌ 电商购买链接/带货功能（聚焦知识赋能）
- ❌ 社区 UGC 内容（后续增长功能）
- ❌ AR 试穿功能（技术成本高，优先级低）

### Growth Features (Post-MVP)（6-12 个月）

**增强个性化能力：**
1. **向量数据库集成**
   - 从第三方 API 迁移到自建向量库（Pinecone → Milvus）
   - 基于用户搭配历史 + 小红书/抖音时尚内容构建知识库
   - 向量相似度检索，提升推荐精准度

2. **个人风格档案**
   - 自动生成用户的"穿搭 DNA"（风格偏好、配色倾向、场合分布）
   - 风格演进可视化（"你的穿搭成长轨迹"）
   - 个性化搭配课程推荐

**社区与内容：**
3. **用户实拍展示**
   - "与你相似身材的用户实拍效果"（UGC，真实可信）
   - 用户上传实际穿搭照片，关联 AI 方案
   - 点赞/评论/关注机制

4. **搭配挑战和话题**
   - 每周穿搭主题挑战（如"职场通勤周"）
   - 用户参与并分享，增强社区粘性

**商业化功能：**
5. **订阅增值服务**（15-30 RMB/月）
   - 高级搭配理论课程
   - 更多 AI 方案生成次数
   - 深度个性化风格分析报告
   - 优先体验新功能

6. **品牌合作数据授权**
   - 匿名化搭配数据授权给时尚品牌
   - 品牌赞助的搭配方案展示（明确标注）

### Vision (Future)（12 个月以上）

**AI 能力演进：**
1. **多模态 AI 升级**
   - 结合语音输入（"帮我搭配一套适合约会的衣服"）
   - 视频分析（上传穿搭视频，AI 实时反馈）

2. **场景化智能推荐**
   - 根据日历事件自动推荐搭配（"明天有会议，推荐通勤装"）
   - 天气联动（根据天气预报推荐合适厚度的搭配）

**生态扩展：**
3. **虚拟衣橱助手**
   - 用户可选是否录入完整衣橱
   - AI 基于现有衣橱生成"不买新衣也能焕然一新"的方案

4. **跨平台扩展**
   - Web 端（电脑端浏览和管理）
   - 小程序（微信生态快速分享）

5. **国际化**
   - 支持多语言（英语、日语、韩语）
   - 适配不同文化的时尚偏好

**终极愿景：**
让每个用户都能拥有"AI 私人穿搭顾问"，从"不会搭配"成长为"有体系的穿搭自信者"，最终实现"人人都是自己的造型师"。

## User Journeys

### Journey 1: 小雅的首次体验 - 购物车里的救星

晚上 11 点，小雅又在淘宝购物车里纠结。一件米色风衣已经躺在购物车 3 天了，她很喜欢，但不确定能不能搭配衣柜里的衣服。"买回来闲置就太浪费了..."她叹气，准备删掉。

突然想起朋友推荐的搭理app，抱着试试看的心态下载。打开后发现**不需要注册**，可以直接拍照。她对着淘宝详情页拍了一张风衣照片，5 秒后，屏幕上出现了 3 套搭配方案。

第一套方案让她眼前一亮：风衣 + 白色 T 恤 + 黑色阔腿裤，配色清爽简约。更让她惊喜的是下面的**理论解析**："米色属于暖色系，搭配黑白基础色可以突出层次感，阔腿裤的宽松剪裁与风衣长度呼应，营造轻松通勤风格。"

小雅恍然大悟："原来是这样搭！"她立刻翻出衣柜里的白 T 和黑裤子拍照上传，app 确认"你已有这些单品，这套搭配完全可以实现"。

凌晨 12 点，小雅下单了那件风衣。这是她第一次购物如此果断。

**这个旅程揭示的功能需求：**
- 零门槛首次体验（无需注册直接拍照）
- **智能识别与选择**：自动识别图中单品，支持用户快速确认主体。
- **渐进式加载体验**：先出文字策略（缓解等待），再出视觉大图。
- 精美视觉呈现：生成式 AI 渲染的场景化穿搭图。
- **数据沉淀**：后台自动保存上传的单品图及其 AI 描述（无感知积累数据）。

### Journey 2: 小雅的成长 - 从"不会搭"到"能教人"

3 个月过去了，小雅已经上传了 28 件衣服，生成了超过 80 套搭配方案。她发现自己开始理解那些搭配原理：**对比色增强视觉冲击，同色系显得温柔和谐，三七分黄金比例拉长身材...**

上周五的聚会上，闺蜜夸她："小雅你最近穿得好有品味！这套搭配好好看。"小雅笑着打开搭理app，展示那套方案的理论解析："你看，这叫色彩呼应，包包的红色和鞋子的红色相互呼应..."

闺蜜听得入迷："这 app 好专业！发我试试！"小雅当场分享了**精美的搭配图片**（带 app 水印）到微信，还转发了 app 下载链接。

那一刻，小雅意识到：**自己真的懂穿搭了**。她从"不敢给意见"的人，变成了"能给闺蜜专业建议"的人。打开 app 的历史记录，看着自己 3 个月的穿搭成长轨迹，她感到前所未有的成就感。

**这个旅程揭示的功能需求：**
- 自动保存所有搭配方案（80+ 套）
- 个人穿搭知识库和历史查询
- 理论解析的教育价值（用户能内化知识）
- 精美分享图片生成（带 app 水印）
- 一键分享到微信/朋友圈功能
- 分享行为追踪（验证啊哈时刻）

### Journey 3: 小雅的紧急约会 - 出门前 10 分钟的救兵

周六上午 10 点，小雅突然收到闺蜜微信："一小时后老地方见！带你认识个朋友。"

小雅慌了，赶紧翻衣柜。想起上次有一套休闲约会风的搭配很适合周末，但记不清是哪几件了。打开搭理app，在**历史方案**里按**"场合：休闲约会"**筛选，立刻找到那套：牛仔外套 + 条纹 T 恤 + 米色半身裙。

3 分钟换好衣服，照着镜子，完美。10:50 出门，从容赴约。

**这个旅程揭示的功能需求：**
- 按场合分类浏览历史方案
- 快速搜索和筛选功能
- 收藏/标记常用搭配
- 方案预览图清晰可辨

### Journey 4: 小雅的重要约会 - 今晚需要完美搭配

周三下午，小雅收到一条让她心跳加速的微信："周五晚上有空吗？想请你吃饭。"是她暗恋了 3 个月的那个人。

她立刻打开衣柜，拿出那件新买的黑色小礼服拍照上传搭理app，在个性化信息里选择**"场合：浪漫约会"**。

App 生成了 5 套方案，每套都配有详细解析。第三套吸引了她：黑色小礼服 + 金色细项链 + 裸色高跟鞋 + 小巧手拿包。理论解析写道：**"黑色神秘优雅，金色点缀提升精致感，裸色鞋拉长腿部线条，整体营造知性温柔的约会氛围。适合餐厅、咖啡厅等室内浪漫场合。"**

小雅点了**"保存到收藏"**，又仔细看了其他几套备选方案。她发现 app 不仅给了搭配建议，还贴心提示："建议搭配自然妆容和低马尾，突出气质。"

周五晚上，小雅按照那套方案出门。约会很成功，对方夸她："你今晚真的很美。"回家路上，小雅打开搭理app，在那套方案下**点了赞**，还分享到了小红书："靠 AI 搭配助手成功的约会装！姐妹们冲！"

**这个旅程揭示的功能需求：**
- 场合化个性化推荐（浪漫约会、商务会议、休闲聚会等）
- 每个单品生成 5 套方案（给用户选择空间）
- 详细的场合适配建议和氛围营造解析
- 保存/收藏重要方案
- 点赞反馈机制（AI 学习用户偏好）
- 分享到小红书/抖音功能

### Journey Requirements Summary

这 4 个用户旅程揭示了搭理app 需要的核心能力领域：

**1. 零门槛体验与快速价值交付**
- 无需注册即可拍照体验
- 5 秒内生成搭配方案
- 高质量视觉呈现和理论解析

**2. 知识赋能系统**
- 专业搭配理论解析（配色、风格、比例）
- 场合化建议（约会、通勤、聚会）
- 用户能够内化知识并应用

**3. 个人穿搭知识库**
- 自动保存所有搭配方案
- 按时间/场合/风格分类管理
- 快速搜索和筛选历史方案
- 收藏/点赞机制

**4. 分享与社交传播**
- 生成精美分享图片（带 app 水印）
- 一键分享到微信/小红书/抖音
- 分享行为追踪（验证 PMF）

**5. 渐进式个性化**
- 首次零门槛，后续引导填写场合偏好
- 通过点赞/保存行为学习用户喜好
- 场合化推荐越用越精准

## Innovation & Novel Patterns

### Detected Innovation Areas

搭理app 的创新不在于技术突破，而在于**产品定位、用户体验设计和价值主张的重新定义**。核心创新体现在以下三个维度：

#### 1. 产品定位创新："知识赋能"vs."商品推销"

**市场空白识别：**
- 现有平台（小红书、蘑菇街）：以带货为目的，推荐背后是电商佣金驱动
- 现有工具（搭搭）：要求用户先录入完整衣橱（50+ 件单品），门槛极高
- **搭理app 填补空白**：专注"AI 穿搭决策支持"，帮用户建立系统的穿搭知识体系

**核心假设：**
用户真正需要的不是"买更多衣服"，而是"学会用现有衣服搭配出更多可能性"。

**验证方式：**
- **啊哈时刻指标**：30% 用户主动分享搭配方案（证明建立自信）
- **知识内化指标**：用户能够理解并复用搭配原理，从依赖 AI 到内化知识
- **留存验证**：30 日留存 > 15%（用户持续使用证明价值认可）

#### 2. 用户体验创新："零门槛单品导向"vs."完整衣橱录入"

**挑战传统流程：**
- **竞品逻辑**：先建立完整衣橱档案 → 基于现有衣橱推荐 → 用户门槛高、流失率高
- **搭理app 逻辑**：单品拍照即可体验 → 渐进式收集信息 → 隐式学习用户偏好

**技术挑战与解决方案：**
- **挑战**：不了解用户完整衣橱，如何给出准确建议？
- **MVP 解决方案**：
  - 基于单品属性（颜色、风格、类型）生成通用搭配方案
  - 推荐时优先使用"基础款"（白 T、黑裤等高普及率单品）
  - 引导用户上传"已有单品"验证可行性
- **长期演进**：
  - 用户持续上传单品 → 逐步建立个人衣橱档案
  - 向量数据库学习用户历史偏好 → 推荐越来越精准

**体验割裂风险缓解：**
- 明确定位为"搭配灵感和专业指导"，而非"虚拟试衣"
- 用户可选择性上传已有单品，app 会标注"可实现"或"需购买"
- 理论解析价值独立于单品推荐（即使没有推荐单品，用户也学到搭配原理）

#### 3. 价值主张创新："教会用户"vs."绑定用户"

**反直觉的长期策略：**
- **传统产品逻辑**：追求用户粘性、日活、使用时长（用户越依赖越好）
- **搭理app 逻辑**：目标是让用户 6 个月后"不依赖 app 也能搭配"（知识内化）

**悖论解决方案：**
问题：如何平衡"教会用户"和"留住用户"的矛盾？

**短期策略（0-6 个月）：**
- **免费核心功能驱动增长**：让用户快速体验价值，建立使用习惯
- **知识沉淀系统**：历史方案成为用户的"个人穿搭知识库"，持续回顾学习
- **渐进式个性化**：AI 越用越懂用户，推荐越来越精准

**长期策略（6 个月以上）：**
- **角色转变**：从"依赖工具"到"灵感库"
  - 用户内化知识后，减少日常依赖
  - 但在特殊场合（重要约会、商务会议）仍会打开 app 寻找灵感
  - 持续学习新的搭配趋势和风格演进
- **订阅增值服务**：
  - 高级搭配理论课程（深度学习）
  - 个性化风格深度分析（"你的穿搭 DNA"）
  - 优先体验新功能（如 UGC 社区、品牌合作）
- **社区价值**：
  - 用户从"学习者"成长为"贡献者"（分享实拍、指导新手）
  - 形成良性循环：老用户贡献内容 → 新用户学习成长 → 再贡献

**商业模式可持续性：**
- **核心假设**：用户愿意为"成长和自我提升"付费，而非被绑架式粘性
- **验证指标**：即使不强制，仍有用户自愿订阅（15-30 RMB/月）
- **增长驱动**：免费用户口碑传播（40% 新用户来自推荐）+ 订阅用户深度价值

### Market Context & Competitive Landscape

**市场时机分析：**

**为什么是现在？**

1. **AI 技术成熟度拐点（2024-2025）：**
   - **图像识别 API**：阿里云、腾讯云视觉 API 成熟稳定，成本可控
   - **生成式 AI**：GPT-4、通义千问等大模型能生成高质量搭配理论解析
   - **向量数据库**：Pinecone、Milvus 等工具成熟，支持个性化推荐演进
   - **3 年前不行**：AI 能力不足，生成的理论解析质量差，用户体验无法保证
   - **3 年后可能晚**：竞品已占领市场，先发优势丧失

2. **用户认知拐点：**
   - 市场研究验证：**82% 的 18-35 岁女性愿意尝试 AI 辅助穿搭工具**
   - ChatGPT 等 AI 工具普及，用户对"AI 助手"接受度显著提升
   - 小红书/抖音培养了用户"学习穿搭知识"的习惯，但缺少个性化工具

3. **市场痛点加剧：**
   - **衣橱闲置率 40-50%**：用户购买冲动但不会搭配
   - **决策焦虑 45%**：海量内容反而增加选择困难
   - 电商带货工具已饱和，但"知识赋能"工具仍是空白

**竞品分析：**

| 竞品 | 定位 | 核心差异 |
|------|------|----------|
| **小红书/抖音** | 社交分享 + 电商带货 | 内容泛化，无个性化决策支持 |
| **蘑菇街** | 电商导购 | 以卖货为目的，非知识赋能 |
| **搭搭** | 衣橱管理工具 | 要求录入 50+ 件单品，门槛极高 |
| **ChatGPT 等通用 AI** | 通用问答 | 无个人穿搭历史沉淀，无视觉呈现 |
| **搭理app** | **AI 穿搭决策支持** | **零门槛 + 知识赋能 + 个人知识库** |

**不可替代性：**
- **vs. ChatGPT**：搭理app 有个人历史方案沉淀、视觉化呈现、渐进式学习用户偏好
- **vs. 小红书**：个性化 AI 决策，而非泛化博主推荐
- **vs. 搭搭**：零门槛体验，单品导向而非完整衣橱

### Validation Approach

**创新假设验证方法：**

#### 假设 1："零门槛单品导向"能降低用户流失

**验证指标：**
- 首次体验完成率 > 70%（从下载到生成首个方案）
- 首次体验时长 < 5 分钟（拍照到获得结果）

**A/B 测试：**
- A 组：零门槛拍照体验
- B 组：要求先填写个人信息（身材、风格等）
- 对比转化率和留存率

**快速止损标准：**
- 如果首次体验完成率 < 40%，说明流程仍有摩擦，需优化

#### 假设 2："知识赋能"定位能驱动分享和增长

**验证指标：**
- 30% 用户主动分享搭配方案（啊哈时刻）
- 40% 新用户来自推荐/分享（自然增长）

**用户访谈：**
- 定期访谈分享用户："为什么愿意分享？"
- 分析分享内容：是否提及"学到知识"而非"买到衣服"

**快速止损标准：**
- 如果 3 个月内分享率 < 10%，需重新审视"知识赋能"价值传递

#### 假设 3：用户愿意为"成长"而非"绑架"付费

**验证指标：**
- 订阅转化率（非强制情况下）
- 订阅用户续订率（验证长期价值认可）

**MVP 验证方式：**
- 前 3 个月全免费，收集用户反馈
- 3-6 个月推出订阅选项，观察自愿付费比例

### Risk Mitigation

**创新风险与应对策略：**

#### 风险 1："教会用户"导致用户流失

**风险描述：**
用户 6 个月后不再依赖 app，日活和粘性下降。

**缓解策略：**
1. **角色转变而非完全流失**：
   - 从"依赖工具"到"灵感库"（低频但高价值使用）
   - 持续更新搭配趋势和新风格，保持新鲜感
2. **社区价值延续**：
   - 增长阶段引入 UGC 社区，老用户成为贡献者
   - 用户获得社交认同和成就感
3. **订阅增值服务**：
   - 深度课程、个性化分析吸引愿意持续学习的用户

**Fallback 方案：**
如果 12 个月后用户流失严重，调整策略：
- 增加"每日穿搭推荐"功能，提升日活
- 引入"穿搭挑战"游戏化机制，增强粘性

#### 风险 2：单品推荐无法满足个性化需求

**风险描述：**
不了解用户完整衣橱，推荐的单品用户没有，体验割裂。

**缓解策略：**
1. **明确定位预期管理**：
   - 首次体验时明确告知"提供搭配灵感和理论指导"
   - 避免用户期待"虚拟试衣"或"完美匹配"
2. **渐进式衣橱建立**：
   - 引导用户上传已有单品，逐步完善个人档案
   - 用户上传越多，推荐越精准
3. **基础款优先策略**：
   - 推荐时优先使用白 T、黑裤等高普及率单品
   - 降低"用户没有推荐单品"的概率

**Fallback 方案：**
如果用户反馈"推荐的单品我都没有"占比 > 50%：
- 增加"上传衣橱"引导流程（可选但强推荐）
- 提供"基于你的衣橱推荐"和"灵感推荐"两种模式

#### 风险 3：向量库演进成本过高

**风险描述：**
从第三方 API 到自建向量库需要大量数据和成本，可能超出预算。

**缓解策略：**
1. **MVP 阶段严格控制成本**：
   - 使用第三方 API（阿里云、腾讯云、GPT-4）
   - 验证 PMF 后再投入向量库建设
2. **分阶段演进**：
   - 第一阶段：托管服务 Pinecone（降低技术门槛）
   - 第二阶段：自部署 Milvus（规模化降本）
3. **数据积累策略**：
   - 用户搭配历史 + 反馈数据
   - 合规爬取小红书/抖音公开时尚内容
   - 品牌合作提供搭配数据

**Fallback 方案：**
如果向量库成本过高或效果不佳：
- 继续使用第三方 API + 规则引擎
- 通过"专家标注案例库"（500 → 5000 组）提升质量

## Mobile App Specific Requirements

### Project-Type Overview

搭理app 是一款基于 **React Native (Expo)** 开发的跨平台移动应用，面向 iOS 和 Android 双平台发布。技术架构采用"覆盖率优先"策略，最低支持 iOS 14+ 和 Android 8.0+，覆盖 **95%+ 目标用户设备**，同时保留对关键新特性的支持能力（如相机高级功能、分享扩展等）。

**核心技术选型：**
- **移动端框架**：React Native (Expo SDK 51+)
- **状态管理**：React Context API + Zustand（轻量级状态管理）
- **导航**：React Navigation 6.x
- **UI 组件库**：React Native Paper（Material Design）或 React Native Elements
- **图片处理**：Expo Image Picker + Expo Camera
- **本地存储**：AsyncStorage（用户偏好）+ SQLite（历史搭配方案离线缓存）
- **网络请求**：Axios + React Query（请求缓存和状态管理）

### Platform Requirements

#### iOS 平台

**最低版本支持：iOS 14.0+**

**版本选择理由：**
- **覆盖率优先**：iOS 14+ 覆盖 **98%** 活跃 iPhone 用户（截至 2025 年）
- **关键特性支持**：
  - App Tracking Transparency（iOS 14.5+，隐私合规必需）
  - Widget 小组件（iOS 14+，增长阶段功能）
  - App Clips（iOS 14+，可选快速体验入口）
- **牺牲的新特性**：
  - Live Activities（iOS 16.1+，非核心功能）
  - Interactive Widgets（iOS 17+，增长阶段可考虑）

**技术限制：**
- 不支持 iOS 13 及以下（占比 < 2%，维护成本不值得）
- 必须使用 Xcode 13+ 和 Swift 5.5+ 编译

#### Android 平台

**最低版本支持：Android 8.0（API Level 26）+**

**版本选择理由：**
- **覆盖率优先**：Android 8.0+ 覆盖 **92%** 中国 Android 用户
- **关键特性支持**:
  - 通知渠道（Android 8.0+，推送通知必需）
  - 自适应图标（Android 8.0+，品牌一致性）
  - 后台执行限制（Android 8.0+，省电优化）
- **牺牲的新特性**：
  - Material You 动态配色（Android 12+，非核心）
  - Predictive Back Gesture（Android 13+，体验优化，非必需）

**技术限制：**
- 不支持 Android 7.x 及以下（占比 < 8%，碎片化严重）
- 必须使用 Android Gradle Plugin 7.0+ 和 Java 11+

#### 屏幕适配

**支持的屏幕尺寸：**
- **手机为主**：4.7" - 6.7"（覆盖 iPhone SE 到 iPhone 15 Pro Max）
- **平板次要**：iPad 和 Android 平板响应式适配（增长阶段优化）
- **折叠屏**：暂不专门适配（市场占比 < 3%）

**设计规范：**
- 最小可点击区域：44pt × 44pt（iOS）/ 48dp × 48dp（Android）
- 字体最小尺寸：14pt/14sp（确保可读性）
- 安全区域适配：支持刘海屏和挖孔屏

### Device Permissions & Features

#### 必需权限（核心功能）

**1. 相机权限**
- **用途**：拍摄衣服照片（核心功能）
- **隐私说明**："搭理需要访问相机以拍摄衣服照片，生成个性化搭配方案"
- **实现方式**：Expo Camera API
- **请求时机**：用户首次点击"拍照"按钮时
- **拒绝处理**：引导用户手动开启权限，提供"从相册选择"备选方案

**2. 照片库权限**
- **用途**：从相册上传衣服照片
- **隐私说明**："搭理需要访问相册以选择衣服照片，生成搭配建议"
- **实现方式**：Expo Image Picker API
- **请求时机**：用户首次点击"从相册选择"按钮时
- **拒绝处理**：引导用户手动开启权限，提供"拍照"备选方案

**3. 位置权限**
- **用途**：获取当前位置天气，提供场合化搭配建议
- **隐私说明**："搭理需要访问位置以获取当地天气，为您推荐适合温度和场合的搭配"
- **实现方式**：Expo Location API（仅获取城市级别，不精确到具体地址）
- **请求时机**：用户首次使用"场合推荐"功能时
- **拒绝处理**：允许用户手动输入城市，降级使用默认天气数据

**权限最佳实践：**
- **延迟请求**：不在 app 启动时立即请求所有权限，仅在用户使用相关功能时请求
- **透明说明**：每次请求权限前，先展示友好的解释文案
- **降级方案**：权限被拒绝时，提供备选功能路径

#### 可选权限（增强功能）

**推送通知权限（MVP 阶段）**
- **用途**：AI 生成搭配完成后通知用户
- **请求时机**：用户首次提交搭配生成请求后，询问"是否希望收到完成通知"
- **拒绝影响**：用户需手动刷新 app 查看结果（体验下降但不阻断核心功能）
- **实现方式**：Expo Notifications API + APNs（iOS）/ FCM（Android）

**存储权限（Android）**
- **用途**：保存生成的搭配图片到相册（分享功能）
- **请求时机**：用户首次点击"保存图片"时
- **拒绝处理**：仅允许应用内分享，不保存到本地相册

### Offline Mode & Caching Strategy

#### 离线能力范围

**可离线使用功能：**
1. **历史搭配方案查看**
   - 用户已生成的所有搭配方案本地缓存
   - 支持按场合、时间、风格分类浏览
   - 包含完整的搭配图片和理论解析文本

2. **个人穿搭知识库浏览**
   - 用户上传的衣服单品列表
   - 历史点赞/收藏的方案
   - 个性化偏好设置

**必须在线功能：**
1. **AI 搭配生成**
   - 依赖第三方 API（阿里云、腾讯云、GPT-4）
   - 无网络时显示友好提示："生成搭配需要网络连接，请稍后再试"
   - 提供"查看历史方案"引导

2. **分享功能**
   - 分享到微信/小红书/抖音需要网络
   - 离线时允许"稍后分享"（保存到本地待办）

3. **用户认证和数据同步**
   - 登录/注册需要网络
   - 数据跨设备同步需要网络

#### 缓存策略

**本地存储架构：**

**AsyncStorage（轻量级键值存储）：**
- 用户偏好设置（场合类型、风格偏好）
- 认证 Token
- 应用配置（首次启动标记、用户协议接受状态）

**SQLite（结构化数据存储）：**
- **历史搭配方案表**：
  - 方案 ID、创建时间、场合标签、风格标签
  - 搭配单品 ID 列表、理论解析文本
  - 点赞/收藏/分享状态
- **用户衣橱表**：
  - 单品 ID、照片本地路径、服装类型、颜色、风格
  - 上传时间、使用频率
- **缓存图片表**：
  - 图片 URL、本地缓存路径、缓存时间、大小

**图片缓存策略：**
- **高清搭配图**：永久缓存（用户历史方案）
- **单品照片**：永久缓存（用户上传）
- **推荐商品图**：LRU 缓存（最近 100 张，7 天过期）
- **最大缓存大小**：500MB（超过时清理最旧的推荐商品图）

**网络重连机制：**
- 检测到网络恢复后，自动同步本地待上传数据
- 后台静默同步用户操作（点赞、收藏、分享行为）
- 使用 React Query 自动重试失败请求

### Push Notification Strategy

#### MVP 阶段通知范围

**实现的通知类型：**

**1. 搭配生成完成通知（核心）**
- **触发时机**：用户提交搭配生成请求，AI 处理完成后（预计 5-10 秒）
- **通知文案**：
  - 标题："你的搭配方案已生成"
  - 正文："为你的【米色风衣】准备了 3 套精彩搭配，快来看看吧！"
  - 点击行为：直接跳转到搭配方案详情页
- **实现方式**：
  - 后端生成完成后，通过 APNs/FCM 推送
  - 应用内轮询作为 fallback（用户未授权通知权限时）

**暂不实现的通知类型（增长阶段）：**
- ❌ 每日穿搭灵感推送（避免打扰用户）
- ❌ 新功能/订阅提醒（MVP 不强推订阅）
- ❌ 社交互动通知（UGC 社区功能未上线）

#### 通知权限策略

**请求时机（软请求 + 硬请求两步走）：**

1. **软请求（应用内弹窗）：**
   - 用户首次提交搭配生成后，展示友好说明
   - 文案："搭配生成需要 5-10 秒，开启通知后我们会第一时间告诉你！"
   - 选项："开启通知" / "稍后再说"

2. **硬请求（系统权限弹窗）：**
   - 仅在用户点击"开启通知"后，调用系统权限请求
   - iOS：显示系统弹窗
   - Android：跳转到通知设置页

**拒绝权限的影响：**
- 用户需手动刷新 app 查看生成结果
- 应用内轮询机制：每 5 秒检查一次是否完成（用户停留在等待页面时）
- 不影响核心功能可用性

#### 通知实现细节

**技术方案：**
- **iOS**：APNs（Apple Push Notification service）
- **Android**：FCM（Firebase Cloud Messaging）
- **Expo 集成**：Expo Notifications API（统一跨平台接口）

**通知负载（Payload）：**
```json
{
  "title": "你的搭配方案已生成",
  "body": "为你的【米色风衣】准备了 3 套精彩搭配，快来看看吧！",
  "data": {
    "type": "outfit_generated",
    "outfit_id": "12345",
    "item_name": "米色风衣"
  },
  "badge": 1,
  "sound": "default"
}
```

**点击行为处理：**
- 应用内：直接跳转到搭配方案详情页（outfit_id）
- 应用关闭：启动 app 并跳转到详情页

### App Store Compliance (iOS Only for MVP)

#### iOS App Store 提交要求

**必需文档：**
1. **隐私政策（Privacy Policy）**
   - 中文版和英文版
   - 明确说明收集的数据类型（照片、位置、设备信息）
   - 数据使用目的（AI 搭配生成、天气推荐、用户体验优化）
   - 数据存储位置（中国境内服务器）
   - 用户权利（删除数据、导出数据）

2. **用户协议（Terms of Service）**
   - 中文版和英文版
   - 服务范围和限制
   - 知识产权声明（AI 生成内容归属）
   - 免责声明（搭配建议仅供参考）

3. **App Privacy Nutrition Label（隐私标签）**
   - 必须在 App Store Connect 中填写
   - 收集的数据类型：
     - **用户内容**：照片（衣服照片）
     - **位置**：粗略位置（城市级别天气）
     - **使用数据**：产品交互（点赞、收藏、分享行为）
     - **标识符**：用户 ID（用于数据同步）
   - 数据用途：
     - 应用功能（AI 搭配生成）
     - 产品个性化（推荐算法优化）
     - 分析（用户行为分析）

#### 订阅制应用内购买（IAP）

**定价策略：**
- **月度订阅**：8 元/月
- **季度订阅**：20 元/季（优惠 17%）
- **年度订阅**：68 元/年（优惠 29%）

**订阅增值内容（增长阶段，1.1 版本）：**
1. **更多 AI 生成方案**：
   - 免费：每个单品 3 套方案
   - 订阅：每个单品 5 套方案
2. **优先体验新功能**：
   - 提前 2 周体验增长阶段功能
3. **无广告体验**：
   - 免费用户看品牌合作推荐（增长阶段）
   - 订阅用户无广告

**IAP 实现技术：**
- **StoreKit 2**（iOS 15+）或 StoreKit 1（兼容 iOS 14）
- **Expo Purchase API**：跨平台统一接口
- **Receipt Validation**：后端验证订阅状态，防止盗刷

**订阅管理：**
- 用户可在 iOS 设置中管理订阅（系统功能）
- 应用内提供"管理订阅"按钮，跳转到系统设置
- 取消订阅后，保留已订阅周期内的权益

**首次提交策略（遵循你的建议）：**
- **1.0 版本（MVP）**：不包含订阅功能，全免费体验
  - 目的：快速通过 App Review，验证 PMF
  - 降低首次审核复杂度
- **1.1 版本（3-6 个月后）**：上线订阅功能
  - 前置条件：PMF 验证通过，用户愿意自愿付费
  - 提交时详细说明订阅增值内容

#### App Review Guidelines 风险点

**潜在审核风险及缓解：**

1. **Guideline 4.2.2 - Minimum Functionality（最小功能要求）**
   - **风险**：app 被认为功能过于简单
   - **缓解**：
     - 展示完整的知识赋能体系（不只是"拍照 → 推荐"）
     - 突出理论解析和个人知识库价值
     - 提供丰富的搭配方案管理功能

2. **Guideline 2.3.10 - Accurate Metadata（元数据准确性）**
   - **风险**：截图或描述过度承诺 AI 能力
   - **缓解**：
     - 截图明确标注"搭配灵感和专业指导"
     - 不使用"虚拟试衣"或"完美匹配"等误导性描述
     - 真实展示 app 界面和功能

3. **Guideline 5.1.1 - Data Collection and Storage（数据收集）**
   - **风险**：照片权限使用不当
   - **缓解**：
     - 隐私政策明确说明照片仅用于 AI 分析
     - 不上传与衣服无关的照片
     - 提供"删除照片"功能

4. **Guideline 3.1.1 - In-App Purchase（应用内购买）**
   - **风险**：免费功能和订阅功能划分不清
   - **缓解（1.1 版本）**：
     - 免费用户可完整体验核心功能
     - 订阅仅提供"增强"而非"解锁"
     - 明确标注哪些功能需要订阅

### Implementation Considerations

**跨平台一致性保证：**
- iOS 和 Android 核心功能 100% 一致
- UI 遵循各平台设计规范（iOS 使用 SF Symbols，Android 使用 Material Icons）
- 交互手势适配平台习惯（iOS 左滑返回，Android 实体返回键）

**性能优化目标：**
- **应用启动时间**：冷启动 < 3 秒，热启动 < 1 秒
- **相机响应**：点击拍照按钮到预览界面 < 500ms
- **图片上传**：500KB 照片上传 < 2 秒（4G 网络）
- **搭配方案渲染**：5 套方案卡片渲染 < 300ms

**测试策略：**
- **真机测试覆盖**：
  - iOS：iPhone SE 2020（最低配置）、iPhone 13（主流）、iPhone 15 Pro（最新）
  - Android：小米 Redmi Note 11（中低端）、华为 Mate 40（主流）、OPPO Find X5（高端）
- **网络环境测试**：
  - 4G（限速 3Mbps）、WiFi、离线模式
  - 弱网模拟（丢包率 20%）
- **自动化测试**：
  - Detox（E2E 测试）
  - Jest + React Native Testing Library（单元测试）

## 项目范围界定与分阶段开发

### MVP 战略与理念

**MVP 方法：体验型 MVP**

搭理app 采用 **体验型 MVP** 策略，核心聚焦交付完整的"啊哈时刻"体验，而非仅仅解决问题。目标是创造情感转变：从"不会搭配"→ 建立自信 → 主动分享。

**关键战略调整：**
- **用户注册策略**：首次使用需要注册 + 引导填写必要的个性化信息（身材类型、风格偏好、常见场合）
- **理由**：确保 AI 推荐质量，获取必要数据支持个性化推荐，提升用户留存和满意度
- **体验优化**：注册流程精简（30 秒内完成），引导填写 3-5 个核心问题即可开始使用

**资源配置：**
- **团队规模**：3-4 人（1 iOS 开发 + 1 后端/AI 工程师 + 1 产品设计 + 可选 1 测试）
- **开发周期**：6 个月
- **平台策略**：MVP 仅 iOS（降低 40% 开发量），验证 PMF 后推出 Android
- **技术栈**：React Native (Expo) iOS only + Python FastAPI + 第三方 AI API

**MVP 成功标准：**
- 注册转化率 > 60%（下载到完成注册）
- 首次体验完成率 > 70%（注册到生成首个方案）
- 30% 活跃用户主动分享搭配方案（7 天内）
- 30 日留存率 > 15%
- 40% 新用户来自推荐/分享（自然增长）

---

### MVP 功能集（Phase 1 - 6 个月）

**支持的核心用户旅程：**
1. ✅ Journey 1: 首次体验 - 购物决策支持（调整为注册后体验）
2. ✅ Journey 2: 成长旅程 - 知识内化 + 分享传播
3. ✅ Journey 3: 紧急约会 - 历史查询（简化版，仅场合分类）
4. ✅ Journey 4: 重要约会 - 场合化推荐

---

#### 必需功能（Must-Have）

**1. 用户注册与个性化设置**
- ✅ 手机号 + 验证码注册（或微信快捷登录）
- ✅ 引导填写核心个性化信息（首次注册必填）：
  - 身材类型（苹果型、梨型、沙漏型、矩形型、倒三角型）
  - 喜欢的风格（通勤、休闲、约会、运动、文艺）
  - 常见场合（上班、约会、聚会、日常、运动）
- ✅ 注册流程精简设计（30 秒内完成）
- ✅ 用户账号体系（支持跨设备数据同步）

**2. 单品拍摄与 AI 搭配生成**
- ✅ 拍摄衣服照片（相机集成）
- ✅ 从相册上传照片
- ✅ 图片裁剪和基础编辑
- ✅ AI 图像识别（服装类型、颜色、风格）
  - 实现方式：阿里云视觉智能 API 或腾讯云图像分析 API
- ✅ 5 秒内生成 3 套搭配方案
- ✅ 高清商品图组合展示（精美排版设计）
- ✅ 配色原理 + 风格理论解析
  - 实现方式：GPT-4 或通义千问 API + 专家标注的 500 组搭配案例库
- ✅ 理论可视化（配色轮盘、风格标签卡片、场合适配图标）

**3. 场合化个性化推荐引擎**
- ✅ 基于用户个人信息（身材、风格偏好、场合）生成定制化推荐
- ✅ 支持场合选择：
  - 浪漫约会、休闲约会、商务会议、职场通勤、朋友聚会、日常出行
- ✅ 结合天气数据（基于位置权限获取城市天气）
- ✅ 点赞/收藏反馈机制（隐式学习用户偏好）

**4. 个人穿搭知识库**
- ✅ 自动保存所有生成的搭配方案（本地 SQLite + 云端同步）
- ✅ 按场合分类浏览（约会、通勤、聚会、休闲、运动、其他）
- ✅ 按时间倒序查看历史方案（最近 7 天、最近 30 天、全部）
- ✅ 离线缓存历史方案（SQLite）
- ✅ 点赞/收藏标记（快速访问常用搭配）

**5. 分享与传播系统**
- ✅ 生成精美分享图片（带 app 水印 + 品牌标识）
- ✅ 一键分享到微信/朋友圈/小红书/抖音
- ✅ 分享行为埋点追踪（验证啊哈时刻）
- ✅ 分享图片模板设计（3 种风格：简约、时尚、文艺）

**6. iOS 移动端基础能力**
- ✅ 相机权限（拍摄衣服照片）
- ✅ 相册权限（从相册选择照片）
- ✅ 位置权限（天气推荐，可选）
- ✅ 推送通知（生成完成提醒，软请求 + 硬请求策略）
- ✅ iOS 14+ 支持（覆盖 98% iPhone 用户）
- ✅ App Store 合规（隐私政策、用户协议、隐私标签）

**7. 技术实现范围**
- ✅ React Native (Expo SDK 51+) - **iOS only（MVP 砍掉 Android）**
- ✅ Python FastAPI 后端 API
- ✅ PostgreSQL 用户数据存储
- ✅ 阿里云 OSS / 腾讯云 COS 图片存储
- ✅ 阿里云/腾讯云视觉 API 图像识别
- ✅ GPT-4 / 通义千问 API 生成搭配理论
- ✅ 用户认证系统（手机号 + 验证码 / 微信登录）
- ✅ 基础数据安全和隐私保护

---

#### 明确不做（MVP 阶段）

**功能层面：**
- ❌ AI 虚拟试衣/上身效果（伪需求，市场研究验证失败）
- ❌ 完整衣橱管理系统（降低使用门槛）
- ❌ 电商购买链接/带货功能（聚焦知识赋能，避免商业化干扰）
- ❌ 社区 UGC 内容（增长阶段功能）
- ❌ AR 试穿功能（技术成本高，优先级低）
- ❌ 快速搜索筛选功能（场合分类浏览代替）
- ❌ 订阅制 IAP（v1.0 全免费，v1.1 验证 PMF 后上线）
- ❌ 氛围营造详细建议（妆容、发型等，增长阶段）

**平台层面：**
- ❌ **Android 平台**（MVP 阶段砍掉，降低 40% 开发量）
  - **理由**：iOS 用户付费意愿更高，开发效率更快，App Store 审核流程更清晰
  - **后续计划**：验证 PMF 后再推出 Android（6-12 个月后）
- ❌ Web 端（电脑端浏览和管理）
- ❌ 小程序（微信生态快速分享）

---

### 增长功能（Phase 2：6-12 个月）

**前置条件：PMF 验证通过**
- 30% 分享率达标
- 30 日留存 > 15%
- 5,000-10,000 注册用户

**Phase 2 功能清单：**

**1. 向量数据库演进**
- 从第三方 API 迁移到 Pinecone（托管服务）
- 基于用户历史 + 小红书/抖音时尚内容构建知识库
- 向量相似度检索，提升推荐精准度

**2. Android 平台发布**
- React Native 代码复用（核心功能 90% 共享）
- Android 8.0+ 支持（覆盖 92% 中国用户）
- Google Play Store 合规

**3. 高级搜索与管理**
- 快速搜索历史方案（关键词、颜色、单品）
- 智能筛选（场合 + 风格 + 颜色组合筛选）
- 个人风格档案自动生成（"你的穿搭 DNA"）
- 风格演进可视化（"你的穿搭成长轨迹"）

**4. 社区与 UGC**
- 用户实拍展示（"与你相似身材的用户实拍"）
- 用户上传实际穿搭照片，关联 AI 方案
- 点赞/评论/关注机制
- 穿搭挑战和话题（每周主题挑战）

**5. 订阅增值服务（v1.1）**
- **定价**：8 元/月、20 元/季、68 元/年
- **增值内容**：
  - 每个单品 5 套方案（免费 3 套）
  - 高级搭配理论课程
  - 深度个性化风格分析
  - 优先体验新功能
  - 无广告体验
- **IAP 实现**：StoreKit 2 (iOS 15+) 或 StoreKit 1 (iOS 14)

**6. 品牌合作数据授权**
- 匿名化搭配数据授权给时尚品牌
- 品牌赞助搭配方案展示（明确标注，不影响核心体验）

---

### 扩展功能（Phase 3：12 个月以上）

**AI 能力演进：**
1. **自建向量库（Milvus 自部署）**
   - 规模化降本（相比 Pinecone 降低 60%+ 成本）
   - 数据积累：用户历史 + 合规爬取内容 + 品牌合作数据

2. **多模态 AI 升级**
   - 语音输入（"帮我搭配适合约会的衣服"）
   - 视频分析（上传穿搭视频，AI 实时反馈）

3. **场景化智能推荐**
   - 日历事件联动（"明天有会议，推荐通勤装"）
   - 天气联动（根据天气预报推荐厚度和风格）

**生态扩展：**
4. **虚拟衣橱助手**（可选）
   - 用户可选是否录入完整衣橱
   - AI 基于现有衣橱生成"不买新衣也能焕然一新"的方案

5. **跨平台扩展**
   - Web 端（电脑端浏览和管理）
   - 小程序（微信生态快速分享）

6. **国际化**
   - 多语言支持（英语、日语、韩语）
   - 适配不同文化的时尚偏好

---

### 风险缓解策略

#### 技术风险

**风险 1：AI 生成质量不稳定**
- **挑战**：第三方 API 生成的理论解析质量波动
- **缓解策略**：
  - 使用专家标注的 500 组搭配案例库作为参考
  - GPT-4 Prompt 工程优化（人工审核前 100 个结果）
  - 设置质量阈值：如果生成结果置信度 < 0.7，返回预设通用建议
- **降级方案**：AI 生成失败时，基于规则引擎返回基础搭配建议

**风险 2：图像识别准确率不足**
- **假设**：第三方 API 能准确识别服装类型、颜色、风格（准确率 > 80%）
- **验证方式**：MVP 前 2 周技术 POC 测试
- **止损标准**：如果识别准确率 < 80%，切换 API 或增加人工审核
- **Fallback**：允许用户手动选择服装类型和颜色（降级体验）

**风险 3：注册流程摩擦导致用户流失**
- **挑战**：新增注册步骤可能增加用户流失
- **缓解策略**：
  - 注册流程极简化（30 秒内完成）
  - 微信快捷登录（1 键授权）
  - 引导填写仅 3-5 个必要问题
  - A/B 测试验证转化率
- **验证指标**：注册转化率 > 60%
- **止损标准**：如果注册转化率 < 40%，调整注册流程或简化信息收集

#### 市场风险

**风险 4：用户不愿意为"知识赋能"付费**
- **缓解策略**：
  - v1.0 完全免费，验证 PMF（专注啊哈时刻）
  - 40% 新用户来自推荐（证明用户认可价值）
  - 3-6 个月后推出订阅，观察自愿付费比例
- **验证指标**：即使不强制，仍有 5-10% 用户自愿订阅
- **Fallback**：品牌合作数据授权作为主要收入来源

**风险 5：分享率达不到 30% 目标**
- **快速止损标准**：3 个月内分享率 < 10%
- **调整策略**：
  - 重新审视"知识赋能"价值传递（用户访谈）
  - 优化分享图片设计（A/B 测试 3 种风格）
  - 增加分享激励（分享解锁更多方案）

#### 资源风险

**风险 6：资源少于计划**
- **Fallback 1（已实施）**：砍掉 Android（减少 40% 开发量）✅
- **Fallback 2**：砍掉位置权限 + 天气推荐（用户手动选择场合）
- **Fallback 3**：推迟订阅功能到 v1.2（专注 PMF 验证）
- **Fallback 4**：简化注册流程（仅手机号，后续补充个性化信息）

**最小团队配置：**
- **3 人核心团队**：
  - 1 全栈开发（React Native iOS + Python FastAPI）
  - 1 AI 工程师（Prompt 工程 + API 集成）
  - 1 产品 + 设计（你）

**超精简 MVP（4 个月应急方案）：**
- 砍掉场合化推荐（仅通用推荐）
- 砍掉分享图片生成（直接截图分享）
- 保留核心：注册 → 拍照 → AI 推荐 → 理论解析 → 历史保存

## Functional Requirements

### 用户账号与个性化设置

- **FR1**: 用户可以通过手机号 + 验证码注册账号
- **FR2**: 用户可以通过微信快捷登录创建账号
- **FR3**: 新用户首次注册后可以填写身材类型信息（苹果型、梨型、沙漏型、矩形型、倒三角型）
- **FR4**: 新用户首次注册后可以选择喜欢的风格类型（通勤、休闲、约会、运动、文艺）
- **FR5**: 新用户首次注册后可以选择常见使用场合（上班、约会、聚会、日常、运动）
- **FR6**: 用户可以随时修改个人风格偏好设置
- **FR7**: 用户可以随时更新身材类型和常见场合信息
- **FR8**: 用户的个性化数据可以在多设备间同步

### 单品拍摄与管理

- **FR9**: 用户可以通过相机拍摄衣服照片
- **FR10**: 用户可以从手机相册选择衣服照片
- **FR11**: 用户可以对上传的照片进行裁剪
- **FR12**: 用户可以对上传的照片进行基础编辑（旋转、调整）
- **FR13**: 系统可以识别衣服照片中的服装类型（上衣、裤子、裙子、外套等）
- **FR14**: 系统可以提取衣服照片中的颜色信息
- **FR15**: 系统可以识别衣服照片中的图案和风格信息
- **FR16**: 用户可以查看已上传的所有单品列表
- **FR17**: 用户可以删除已上传的单品照片

### AI 搭配生成与推荐

- **FR18**: 用户上传单品后，系统可以在 5 秒内生成 3 套搭配方案
- **FR19**: 每套搭配方案可以展示推荐单品的高清商品图组合
- **FR20**: 每套搭配方案可以展示精美排版设计的完整搭配效果
- **FR21**: 用户可以基于个人身材类型获得定制化搭配推荐
- **FR22**: 用户可以基于个人风格偏好获得定制化搭配推荐
- **FR23**: 用户可以基于选择的场合获得定制化搭配推荐
- **FR24**: 系统可以结合用户所在城市的天气数据提供搭配建议
- **FR25**: 用户可以对搭配方案进行点赞反馈
- **FR26**: 用户可以对搭配方案进行收藏标记
- **FR27**: 系统可以基于用户的点赞和收藏行为学习个人偏好

### 理论知识与教育

- **FR28**: 每套搭配方案可以展示配色原理解析
- **FR29**: 每套搭配方案可以展示风格分析说明
- **FR30**: 每套搭配方案可以展示搭配依据文字说明（为什么这样搭）
- **FR31**: 每套搭配方案可以展示场合适配建议
- **FR32**: 搭配方案可以展示配色原理可视化（色轮、配色卡片）
- **FR33**: 搭配方案可以展示风格标签卡片（通勤、休闲、约会等）
- **FR34**: 搭配方案可以展示场合适配图标

### 个人穿搭知识库

- **FR35**: 系统可以自动保存用户生成的所有搭配方案到本地
- **FR36**: 系统可以将用户的搭配方案同步到云端
- **FR37**: 用户可以按场合分类浏览历史搭配方案（约会、通勤、聚会、休闲、运动、其他）
- **FR38**: 用户可以按时间倒序查看历史方案（最近 7 天、最近 30 天、全部）
- **FR39**: 用户可以在离线状态下查看历史搭配方案
- **FR40**: 用户可以查看已点赞的搭配方案列表
- **FR41**: 用户可以查看已收藏的搭配方案列表
- **FR42**: 用户可以删除不需要的历史搭配方案

### 分享与社交传播

- **FR43**: 用户可以生成带 app 水印的精美分享图片
- **FR44**: 用户可以一键分享搭配方案到微信
- **FR45**: 用户可以一键分享搭配方案到微信朋友圈
- **FR46**: 用户可以一键分享搭配方案到小红书
- **FR47**: 用户可以一键分享搭配方案到抖音
- **FR48**: 系统可以追踪用户的分享行为数据
- **FR49**: 分享图片可以提供 3 种风格模板（简约、时尚、文艺）

### 场合化与情境推荐

- **FR50**: 用户可以为单品生成浪漫约会场合的搭配方案
- **FR51**: 用户可以为单品生成休闲约会场合的搭配方案
- **FR52**: 用户可以为单品生成商务会议场合的搭配方案
- **FR53**: 用户可以为单品生成职场通勤场合的搭配方案
- **FR54**: 用户可以为单品生成朋友聚会场合的搭配方案
- **FR55**: 用户可以为单品生成日常出行场合的搭配方案
- **FR56**: 系统可以基于用户位置获取城市级别的天气信息
- **FR57**: 系统可以结合天气数据（温度、降雨）调整搭配推荐

### 系统支持能力

- **FR58**: 系统可以请求和管理相机权限
- **FR59**: 系统可以请求和管理照片库权限
- **FR60**: 系统可以请求和管理位置权限（可选）
- **FR61**: 系统可以在搭配生成完成后发送推送通知
- **FR62**: 用户可以授权或拒绝推送通知权限
- **FR63**: 系统可以在权限被拒绝时提供备选方案
- **FR64**: 系统可以在离线状态下保持核心历史查看功能可用
- **FR65**: 系统可以在网络恢复后自动同步本地数据到云端

## Non-Functional Requirements

### Performance

**Response Time Requirements:**
- **NFR-P1**: AI 搭配生成响应时间 < 5 秒（从用户上传照片到展示首个方案）
- **NFR-P2**: 图片上传时间 < 2 秒（500KB 照片，4G 网络环境）
- **NFR-P3**: 应用冷启动时间 < 3 秒（从点击图标到首屏可交互）
- **NFR-P4**: 应用热启动时间 < 1 秒（从后台恢复）
- **NFR-P5**: 相机响应时间 < 500ms（从点击拍照按钮到预览界面显示）
- **NFR-P6**: 搭配方案卡片渲染 < 300ms（5 套方案完整渲染）
- **NFR-P7**: 历史方案查询响应 < 200ms（本地 SQLite 查询）

**API 性能要求:**
- **NFR-P8**: 后端 API P95 响应时间 < 1 秒
- **NFR-P9**: 后端 API P99 响应时间 < 3 秒

**资源使用:**
- **NFR-P10**: 应用内存占用 < 150MB（iOS 典型场景）
- **NFR-P11**: 本地图片缓存上限 500MB（超过时自动清理 LRU）
- **NFR-P12**: 单次 AI 请求流量消耗 < 2MB（4G 网络可接受范围）

### Security & Privacy

**数据加密:**
- **NFR-S1**: 所有网络通信使用 HTTPS/TLS 1.2+ 加密传输
- **NFR-S2**: 用户照片在存储时进行 AES-256 加密
- **NFR-S3**: 用户个人信息（身材、风格偏好）在数据库中加密存储
- **NFR-S4**: 认证 Token 使用 JWT，有效期 30 天，支持刷新机制

**隐私保护:**
- **NFR-S5**: 符合《中华人民共和国个人信息保护法》要求
- **NFR-S6**: 用户照片仅用于 AI 分析，不用于商业用途（除非用户明确授权）
- **NFR-S7**: 用户可随时删除已上传的照片和生成的搭配方案
- **NFR-S8**: 用户可导出个人数据（照片、搭配历史、偏好设置）
- **NFR-S9**: 位置数据仅获取城市级别（不精确到具体地址或经纬度）
- **NFR-S10**: 第三方 AI API 不存储用户照片（处理后立即删除）

**访问控制:**
- **NFR-S11**: 用户只能访问自己的搭配方案和照片
- **NFR-S12**: 管理后台访问需要双因素认证（2FA）
- **NFR-S13**: API 接口实施速率限制（Rate Limiting），防止滥用

**App Store 隐私合规:**
- **NFR-S14**: iOS App 提供完整的隐私政策（中英文）
- **NFR-S15**: 正确填写 App Privacy Nutrition Label（数据收集声明）
- **NFR-S16**: 权限请求遵循"延迟请求"原则（使用时才请求，不在启动时全部请求）

### Reliability

**系统可用性:**
- **NFR-R1**: 核心服务（AI 生成、用户认证、数据同步）可用性 > 99.5%（月度）
- **NFR-R2**: 计划内维护窗口每月不超过 2 小时，且在用户低峰时段（凌晨 2-4 点）
- **NFR-R3**: 非计划停机单次不超过 1 小时，月度累计不超过 2 小时

**数据持久性:**
- **NFR-R4**: 用户数据（搭配历史、照片、偏好）每日自动备份
- **NFR-R5**: 备份数据保留 30 天，支持任意时间点恢复
- **NFR-R6**: 数据库 RPO（恢复点目标）< 1 小时
- **NFR-R7**: 数据库 RTO（恢复时间目标）< 4 小时

**错误处理:**
- **NFR-R8**: 应用崩溃率 < 0.1%（iOS 平台）
- **NFR-R9**: AI 生成失败时，提供友好错误提示和降级方案（规则引擎备选）
- **NFR-R10**: 网络请求失败时，自动重试 3 次（指数退避策略）
- **NFR-R11**: 网络恢复后，自动同步本地待上传数据（点赞、收藏、分享行为）

**监控与告警:**
- **NFR-R12**: 实时监控核心 API 响应时间和成功率
- **NFR-R13**: 服务异常时 5 分钟内触发告警（PagerDuty 或等效工具）
- **NFR-R14**: 每日生成服务健康报告（可用性、性能、错误率）

### Scalability

**用户增长容量:**
- **NFR-SC1**: MVP 阶段支持 10,000 DAU（日活跃用户）
- **NFR-SC2**: 增长阶段支持 100,000 DAU（不降低性能超过 10%）
- **NFR-SC3**: 系统架构支持水平扩展（增加服务器节点）

**数据增长容量:**
- **NFR-SC4**: 数据库支持 1,000,000 用户记录
- **NFR-SC5**: 图片存储支持 10TB 容量（阿里云 OSS / 腾讯云 COS 弹性扩展）
- **NFR-SC6**: PostgreSQL 单表支持 100,000,000 条搭配方案记录

**并发处理:**
- **NFR-SC7**: 支持 1,000 并发 AI 生成请求（第三方 API 配额充足）
- **NFR-SC8**: 支持 5,000 并发历史查询请求（本地 SQLite + CDN 缓存）

**资源弹性:**
- **NFR-SC9**: 服务器 CPU 使用率 < 70%（平均），支持流量峰值
- **NFR-SC10**: 自动扩展策略：CPU > 80% 时自动增加节点，CPU < 30% 时缩减节点

### Usability

**移动端可用性:**
- **NFR-U1**: 支持 iOS 14+ 和 Android 8.0+（覆盖 95%+ 目标用户）
- **NFR-U2**: 支持 4.7" - 6.7" 屏幕尺寸（iPhone SE 到 iPhone 15 Pro Max）
- **NFR-U3**: 适配刘海屏和挖孔屏的安全区域
- **NFR-U4**: 最小可点击区域 44pt × 44pt (iOS) / 48dp × 48dp (Android)
- **NFR-U5**: 字体最小尺寸 14pt/14sp，确保可读性

**离线能力:**
- **NFR-U6**: 用户可在离线状态下查看历史搭配方案（完整功能）
- **NFR-U7**: 离线状态下展示友好提示，引导用户查看历史方案
- **NFR-U8**: 网络恢复后 30 秒内自动同步本地数据

**国际化与本地化:**
- **NFR-U9**: MVP 阶段仅支持简体中文
- **NFR-U10**: 增长阶段支持繁体中文（中国台湾、中国香港）

**基础无障碍支持:**
- **NFR-U11**: iOS VoiceOver 可正确朗读核心操作按钮
- **NFR-U12**: 颜色对比度符合 WCAG 2.1 Level A 标准（不强制 AA/AAA）
- **NFR-U13**: 支持系统字体放大（iOS 动态字体）

### AI Quality

**AI 模型质量:**
- **NFR-AI1**: 图像识别准确率 > 90%（正确识别服装类型、颜色、风格）
- **NFR-AI2**: 搭配推荐准确率 > 75%（用户点赞或保存占比）
- **NFR-AI3**: 理论解析有用性 > 80%（用户反馈"有帮助"占比）
- **NFR-AI4**: AI 生成失败率 < 5%（需提供降级方案）

**个性化学习:**
- **NFR-AI5**: 用户点赞 10 次后，推荐精准度提升 > 15%（A/B 测试验证）
- **NFR-AI6**: 用户持续使用 30 天后，推荐精准度提升 > 30%
